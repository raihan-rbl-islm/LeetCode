# 151. Reverse Words in a String

**Difficulty:** Medium  
**Topic:** String, Two Pointers  
**Link:** [LeetCode 151](https://leetcode.com/problems/reverse-words-in-a-string/)

## Intuition

To solve this problem in-place with $O(1)$ extra space, we can follow a multi-step strategy:

1.  **Reverse the Entire String:** This places the words in the correct relative order (last word becomes first), but the characters within each word are reversed.
2.  **Iterate and Clean:** We use a pointer `idx` to build the "clean" version of the string at the front. We iterate through the reversed string, skipping extra spaces.
3.  **Reverse Individual Words:** As we copy each word to the `idx` position, we reverse just that word to restore its characters to the correct order.
4.  **Resize:** Finally, we truncate the string to `idx` to remove any leftover characters at the end.

## Complexity

* **Time Complexity:** $O(N)$ — We reverse the entire string once, then traverse it once to process words, and reverse each word individually.
* **Space Complexity:** $O(1)$ — We modify the input string in-place and do not use auxiliary data structures like stacks or vectors.

## Code (C++)

```cpp
class Solution {
public:
    string reverseWords(string s) {
        // Step 1: Reverse the entire string to get words in correct relative order
        reverse(s.begin(), s.end());
        
        int idx = 0;
        for (int i = 0; i < s.size(); i ++) {
            // Skip spaces
            if (s[i] == ' ') continue;
            
            // Add space between words (if not the first word)
            if (idx > 0) s[idx ++] = ' ';
            
            // Start of the current word
            int start = idx;
            
            // Copy the current word to the 'clean' position
            while (i < s.size() && s[i] != ' ') s[idx ++] = s[i ++];
            
            // Step 2: Reverse the current word back to normal
            reverse(s.begin() + start, s.begin() + idx);
            
            // Adjust loop counter since the inner while loop advanced it
            i --;
        }
        
        // Step 3: Resize to remove trailing garbage
        s.resize(idx);
        return s;
    }
};
